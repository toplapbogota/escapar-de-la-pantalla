(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))s(h);new MutationObserver(h=>{for(const u of h)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(h){const u={};return h.integrity&&(u.integrity=h.integrity),h.referrerPolicy&&(u.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?u.credentials="include":h.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(h){if(h.ep)return;h.ep=!0;const u=n(h);fetch(h.href,u)}})();/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.19.2
 * @author George Michael Brower
 * @license MIT
 */class j{constructor(t,n,s,h,u="div"){this.parent=t,this.object=n,this.property=s,this._disabled=!1,this._hidden=!1,this.initialValue=this.getValue(),this.domElement=document.createElement(u),this.domElement.classList.add("controller"),this.domElement.classList.add(h),this.$name=document.createElement("div"),this.$name.classList.add("name"),j.nextNameID=j.nextNameID||0,this.$name.id=`lil-gui-name-${++j.nextNameID}`,this.$widget=document.createElement("div"),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.domElement.addEventListener("keydown",f=>f.stopPropagation()),this.domElement.addEventListener("keyup",f=>f.stopPropagation()),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(s)}name(t){return this._name=t,this.$name.textContent=t,this}onChange(t){return this._onChange=t,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(t=!0){return this.disable(!t)}disable(t=!0){return t===this._disabled?this:(this._disabled=t,this.domElement.classList.toggle("disabled",t),this.$disable.toggleAttribute("disabled",t),this)}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}options(t){const n=this.parent.add(this.object,this.property,t);return n.name(this._name),this.destroy(),n}min(t){return this}max(t){return this}step(t){return this}decimals(t){return this}listen(t=!0){return this._listening=t,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const t=this.save();t!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=t}getValue(){return this.object[this.property]}setValue(t){return this.getValue()!==t&&(this.object[this.property]=t,this._callOnChange(),this.updateDisplay()),this}updateDisplay(){return this}load(t){return this.setValue(t),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class Qe extends j{constructor(t,n,s){super(t,n,s,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function Lt(r){let t,n;return(t=r.match(/(#|0x)?([a-f0-9]{6})/i))?n=t[2]:(t=r.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(t[1]).toString(16).padStart(2,0)+parseInt(t[2]).toString(16).padStart(2,0)+parseInt(t[3]).toString(16).padStart(2,0):(t=r.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]),n?"#"+n:!1}const Je={isPrimitive:!0,match:r=>typeof r=="string",fromHexString:Lt,toHexString:Lt},ct={isPrimitive:!0,match:r=>typeof r=="number",fromHexString:r=>parseInt(r.substring(1),16),toHexString:r=>"#"+r.toString(16).padStart(6,0)},Ze={isPrimitive:!1,match:r=>Array.isArray(r),fromHexString(r,t,n=1){const s=ct.fromHexString(r);t[0]=(s>>16&255)/255*n,t[1]=(s>>8&255)/255*n,t[2]=(s&255)/255*n},toHexString([r,t,n],s=1){s=255/s;const h=r*s<<16^t*s<<8^n*s<<0;return ct.toHexString(h)}},ti={isPrimitive:!1,match:r=>Object(r)===r,fromHexString(r,t,n=1){const s=ct.fromHexString(r);t.r=(s>>16&255)/255*n,t.g=(s>>8&255)/255*n,t.b=(s&255)/255*n},toHexString({r,g:t,b:n},s=1){s=255/s;const h=r*s<<16^t*s<<8^n*s<<0;return ct.toHexString(h)}},ei=[Je,ct,Ze,ti];function ii(r){return ei.find(t=>t.match(r))}class ni extends j{constructor(t,n,s,h){super(t,n,s,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=ii(this.initialValue),this._rgbScale=h,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const u=Lt(this.$text.value);u&&this._setValueFromHexString(u)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(t){if(this._format.isPrimitive){const n=this._format.fromHexString(t);this.setValue(n)}else this._format.fromHexString(t,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(t){return this._setValueFromHexString(t),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class Ct extends j{constructor(t,n,s){super(t,n,s,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",h=>{h.preventDefault(),this.getValue().call(this.object),this._callOnChange()}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class ri extends j{constructor(t,n,s,h,u,f){super(t,n,s,"number"),this._initInput(),this.min(h),this.max(u);const g=f!==void 0;this.step(g?f:this._getImplicitStep(),g),this.updateDisplay()}decimals(t){return this._decimals=t,this.updateDisplay(),this}min(t){return this._min=t,this._onUpdateMinMax(),this}max(t){return this._max=t,this._onUpdateMinMax(),this}step(t,n=!0){return this._step=t,this._stepExplicit=n,this}updateDisplay(){const t=this.getValue();if(this._hasSlider){let n=(t-this._min)/(this._max-this._min);n=Math.max(0,Math.min(n,1)),this.$fill.style.width=n*100+"%"}return this._inputFocused||(this.$input.value=this._decimals===void 0?t:t.toFixed(this._decimals)),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),window.matchMedia("(pointer: coarse)").matches&&(this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any")),this.$widget.appendChild(this.$input),this.$disable=this.$input;const n=()=>{let _=parseFloat(this.$input.value);isNaN(_)||(this._stepExplicit&&(_=this._snap(_)),this.setValue(this._clamp(_)))},s=_=>{const P=parseFloat(this.$input.value);isNaN(P)||(this._snapClampSetValue(P+_),this.$input.value=this.getValue())},h=_=>{_.key==="Enter"&&this.$input.blur(),_.code==="ArrowUp"&&(_.preventDefault(),s(this._step*this._arrowKeyMultiplier(_))),_.code==="ArrowDown"&&(_.preventDefault(),s(this._step*this._arrowKeyMultiplier(_)*-1))},u=_=>{this._inputFocused&&(_.preventDefault(),s(this._step*this._normalizeMouseWheel(_)))};let f=!1,g,m,y,c,w;const L=5,I=_=>{g=_.clientX,m=y=_.clientY,f=!0,c=this.getValue(),w=0,window.addEventListener("mousemove",M),window.addEventListener("mouseup",W)},M=_=>{if(f){const P=_.clientX-g,q=_.clientY-m;Math.abs(q)>L?(_.preventDefault(),this.$input.blur(),f=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(P)>L&&W()}if(!f){const P=_.clientY-y;w-=P*this._step*this._arrowKeyMultiplier(_),c+w>this._max?w=this._max-c:c+w<this._min&&(w=this._min-c),this._snapClampSetValue(c+w)}y=_.clientY},W=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",W)},Z=()=>{this._inputFocused=!0},b=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",n),this.$input.addEventListener("keydown",h),this.$input.addEventListener("wheel",u,{passive:!1}),this.$input.addEventListener("mousedown",I),this.$input.addEventListener("focus",Z),this.$input.addEventListener("blur",b)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const t=(b,_,P,q,vt)=>(b-_)/(P-_)*(vt-q)+q,n=b=>{const _=this.$slider.getBoundingClientRect();let P=t(b,_.left,_.right,this._min,this._max);this._snapClampSetValue(P)},s=b=>{this._setDraggingStyle(!0),n(b.clientX),window.addEventListener("mousemove",h),window.addEventListener("mouseup",u)},h=b=>{n(b.clientX)},u=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",u)};let f=!1,g,m;const y=b=>{b.preventDefault(),this._setDraggingStyle(!0),n(b.touches[0].clientX),f=!1},c=b=>{b.touches.length>1||(this._hasScrollBar?(g=b.touches[0].clientX,m=b.touches[0].clientY,f=!0):y(b),window.addEventListener("touchmove",w,{passive:!1}),window.addEventListener("touchend",L))},w=b=>{if(f){const _=b.touches[0].clientX-g,P=b.touches[0].clientY-m;Math.abs(_)>Math.abs(P)?y(b):(window.removeEventListener("touchmove",w),window.removeEventListener("touchend",L))}else b.preventDefault(),n(b.touches[0].clientX)},L=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",w),window.removeEventListener("touchend",L)},I=this._callOnFinishChange.bind(this),M=400;let W;const Z=b=>{if(Math.abs(b.deltaX)<Math.abs(b.deltaY)&&this._hasScrollBar)return;b.preventDefault();const P=this._normalizeMouseWheel(b)*this._step;this._snapClampSetValue(this.getValue()+P),this.$input.value=this.getValue(),clearTimeout(W),W=setTimeout(I,M)};this.$slider.addEventListener("mousedown",s),this.$slider.addEventListener("touchstart",c,{passive:!1}),this.$slider.addEventListener("wheel",Z,{passive:!1})}_setDraggingStyle(t,n="horizontal"){this.$slider&&this.$slider.classList.toggle("active",t),document.body.classList.toggle("lil-gui-dragging",t),document.body.classList.toggle(`lil-gui-${n}`,t)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(t){let{deltaX:n,deltaY:s}=t;return Math.floor(t.deltaY)!==t.deltaY&&t.wheelDelta&&(n=0,s=-t.wheelDelta/120,s*=this._stepExplicit?1:10),n+-s}_arrowKeyMultiplier(t){let n=this._stepExplicit?1:10;return t.shiftKey?n*=10:t.altKey&&(n/=10),n}_snap(t){const n=Math.round(t/this._step)*this._step;return parseFloat(n.toPrecision(15))}_clamp(t){return t<this._min&&(t=this._min),t>this._max&&(t=this._max),t}_snapClampSetValue(t){this.setValue(this._clamp(this._snap(t)))}get _hasScrollBar(){const t=this.parent.root.$children;return t.scrollHeight>t.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class si extends j{constructor(t,n,s,h){super(t,n,s,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.options(h)}options(t){return this._values=Array.isArray(t)?t:Object.values(t),this._names=Array.isArray(t)?t:Object.keys(t),this.$select.replaceChildren(),this._names.forEach(n=>{const s=document.createElement("option");s.textContent=n,this.$select.appendChild(s)}),this.updateDisplay(),this}updateDisplay(){const t=this.getValue(),n=this._values.indexOf(t);return this.$select.selectedIndex=n,this.$display.textContent=n===-1?t:this._names[n],this}}class oi extends j{constructor(t,n,s){super(t,n,s,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("spellcheck","false"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",h=>{h.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const li=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
  background: var(--background-color);
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles, .lil-gui.allow-touch-styles .lil-gui {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles, .lil-gui.force-touch-styles .lil-gui {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui label, .lil-gui input, .lil-gui button {
  -webkit-tap-highlight-color: transparent;
}
.lil-gui input {
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
  -moz-appearance: textfield;
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input[type=checkbox] {
  appearance: none;
  width: var(--checkbox-size);
  height: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: none;
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
  }
  .lil-gui button:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function hi(r){const t=document.createElement("style");t.innerHTML=r;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(t,n):document.head.appendChild(t)}let te=!1;class Nt{constructor({parent:t,autoPlace:n=t===void 0,container:s,width:h,title:u="Controls",closeFolders:f=!1,injectStyles:g=!0,touchStyles:m=!0}={}){if(this.parent=t,this.root=t?t.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",y=>{(y.code==="Enter"||y.code==="Space")&&(y.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(u),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),m&&this.domElement.classList.add("allow-touch-styles"),!te&&g&&(hi(li),te=!0),s?s.appendChild(this.domElement):n&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),h&&this.domElement.style.setProperty("--width",h+"px"),this._closeFolders=f}add(t,n,s,h,u){if(Object(s)===s)return new si(this,t,n,s);const f=t[n];switch(typeof f){case"number":return new ri(this,t,n,s,h,u);case"boolean":return new Qe(this,t,n);case"string":return new oi(this,t,n);case"function":return new Ct(this,t,n)}console.error(`gui.add failed
	property:`,n,`
	object:`,t,`
	value:`,f)}addColor(t,n,s=1){return new ni(this,t,n,s)}addFolder(t){const n=new Nt({parent:this,title:t});return this.root._closeFolders&&n.close(),n}load(t,n=!0){return t.controllers&&this.controllers.forEach(s=>{s instanceof Ct||s._name in t.controllers&&s.load(t.controllers[s._name])}),n&&t.folders&&this.folders.forEach(s=>{s._title in t.folders&&s.load(t.folders[s._title])}),this}save(t=!0){const n={controllers:{},folders:{}};return this.controllers.forEach(s=>{if(!(s instanceof Ct)){if(s._name in n.controllers)throw new Error(`Cannot save GUI with duplicate property "${s._name}"`);n.controllers[s._name]=s.save()}}),t&&this.folders.forEach(s=>{if(s._title in n.folders)throw new Error(`Cannot save GUI with duplicate folder "${s._title}"`);n.folders[s._title]=s.save()}),n}open(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}_setClosed(t){this._closed!==t&&(this._closed=t,this._callOnOpenClose(this))}show(t=!0){return this._hidden=!t,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(t=!0){return this._setClosed(!t),this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const n=this.$children.clientHeight;this.$children.style.height=n+"px",this.domElement.classList.add("transition");const s=u=>{u.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",s))};this.$children.addEventListener("transitionend",s);const h=t?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!t),requestAnimationFrame(()=>{this.$children.style.height=h+"px"})}),this}title(t){return this._title=t,this.$title.textContent=t,this}reset(t=!0){return(t?this.controllersRecursive():this.controllers).forEach(s=>s.reset()),this}onChange(t){return this._onChange=t,this}_callOnChange(t){this.parent&&this.parent._callOnChange(t),this._onChange!==void 0&&this._onChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onFinishChange(t){return this._onFinishChange=t,this}_callOnFinishChange(t){this.parent&&this.parent._callOnFinishChange(t),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:t.object,property:t.property,value:t.getValue(),controller:t})}onOpenClose(t){return this._onOpenClose=t,this}_callOnOpenClose(t){this.parent&&this.parent._callOnOpenClose(t),this._onOpenClose!==void 0&&this._onOpenClose.call(this,t)}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(t=>t.destroy())}controllersRecursive(){let t=Array.from(this.controllers);return this.folders.forEach(n=>{t=t.concat(n.controllersRecursive())}),t}foldersRecursive(){let t=Array.from(this.folders);return this.folders.forEach(n=>{t=t.concat(n.foldersRecursive())}),t}}var ue={},xt={};xt.byteLength=ci;xt.toByteArray=pi;xt.fromByteArray=mi;var H=[],U=[],ui=typeof Uint8Array<"u"?Uint8Array:Array,Rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ot=0,ai=Rt.length;ot<ai;++ot)H[ot]=Rt[ot],U[Rt.charCodeAt(ot)]=ot;U[45]=62;U[95]=63;function ae(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");n===-1&&(n=t);var s=n===t?0:4-n%4;return[n,s]}function ci(r){var t=ae(r),n=t[0],s=t[1];return(n+s)*3/4-s}function fi(r,t,n){return(t+n)*3/4-n}function pi(r){var t,n=ae(r),s=n[0],h=n[1],u=new ui(fi(r,s,h)),f=0,g=h>0?s-4:s,m;for(m=0;m<g;m+=4)t=U[r.charCodeAt(m)]<<18|U[r.charCodeAt(m+1)]<<12|U[r.charCodeAt(m+2)]<<6|U[r.charCodeAt(m+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=t&255;return h===2&&(t=U[r.charCodeAt(m)]<<2|U[r.charCodeAt(m+1)]>>4,u[f++]=t&255),h===1&&(t=U[r.charCodeAt(m)]<<10|U[r.charCodeAt(m+1)]<<4|U[r.charCodeAt(m+2)]>>2,u[f++]=t>>8&255,u[f++]=t&255),u}function di(r){return H[r>>18&63]+H[r>>12&63]+H[r>>6&63]+H[r&63]}function gi(r,t,n){for(var s,h=[],u=t;u<n;u+=3)s=(r[u]<<16&16711680)+(r[u+1]<<8&65280)+(r[u+2]&255),h.push(di(s));return h.join("")}function mi(r){for(var t,n=r.length,s=n%3,h=[],u=16383,f=0,g=n-s;f<g;f+=u)h.push(gi(r,f,f+u>g?g:f+u));return s===1?(t=r[n-1],h.push(H[t>>2]+H[t<<4&63]+"==")):s===2&&(t=(r[n-2]<<8)+r[n-1],h.push(H[t>>10]+H[t>>4&63]+H[t<<2&63]+"=")),h.join("")}var Ut={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ut.read=function(r,t,n,s,h){var u,f,g=h*8-s-1,m=(1<<g)-1,y=m>>1,c=-7,w=n?h-1:0,L=n?-1:1,I=r[t+w];for(w+=L,u=I&(1<<-c)-1,I>>=-c,c+=g;c>0;u=u*256+r[t+w],w+=L,c-=8);for(f=u&(1<<-c)-1,u>>=-c,c+=s;c>0;f=f*256+r[t+w],w+=L,c-=8);if(u===0)u=1-y;else{if(u===m)return f?NaN:(I?-1:1)*(1/0);f=f+Math.pow(2,s),u=u-y}return(I?-1:1)*f*Math.pow(2,u-s)};Ut.write=function(r,t,n,s,h,u){var f,g,m,y=u*8-h-1,c=(1<<y)-1,w=c>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=s?0:u-1,M=s?1:-1,W=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,f=c):(f=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-f))<1&&(f--,m*=2),f+w>=1?t+=L/m:t+=L*Math.pow(2,1-w),t*m>=2&&(f++,m/=2),f+w>=c?(g=0,f=c):f+w>=1?(g=(t*m-1)*Math.pow(2,h),f=f+w):(g=t*Math.pow(2,w-1)*Math.pow(2,h),f=0));h>=8;r[n+I]=g&255,I+=M,g/=256,h-=8);for(f=f<<h|g,y+=h;y>0;r[n+I]=f&255,I+=M,f/=256,y-=8);r[n+I-M]|=W*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=xt,n=Ut,s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=vt,r.INSPECT_MAX_BYTES=50;const h=2147483647;r.kMaxLength=h;const{Uint8Array:u,ArrayBuffer:f,SharedArrayBuffer:g}=globalThis;c.TYPED_ARRAY_SUPPORT=m(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const o=new u(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,u.prototype),Object.setPrototypeOf(o,e),o.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function y(o){if(o>h)throw new RangeError('The value "'+o+'" is invalid for option "size"');const e=new u(o);return Object.setPrototypeOf(e,c.prototype),e}function c(o,e,i){if(typeof o=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return M(o)}return w(o,e,i)}c.poolSize=8192;function w(o,e,i){if(typeof o=="string")return W(o,e);if(f.isView(o))return b(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(k(o,f)||o&&k(o.buffer,f)||typeof g<"u"&&(k(o,g)||o&&k(o.buffer,g)))return _(o,e,i);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const l=o.valueOf&&o.valueOf();if(l!=null&&l!==o)return c.from(l,e,i);const a=P(o);if(a)return a;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return c.from(o[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}c.from=function(o,e,i){return w(o,e,i)},Object.setPrototypeOf(c.prototype,u.prototype),Object.setPrototypeOf(c,u);function L(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function I(o,e,i){return L(o),o<=0?y(o):e!==void 0?typeof i=="string"?y(o).fill(e,i):y(o).fill(e):y(o)}c.alloc=function(o,e,i){return I(o,e,i)};function M(o){return L(o),y(o<0?0:q(o)|0)}c.allocUnsafe=function(o){return M(o)},c.allocUnsafeSlow=function(o){return M(o)};function W(o,e){if((typeof e!="string"||e==="")&&(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const i=kt(o,e)|0;let l=y(i);const a=l.write(o,e);return a!==i&&(l=l.slice(0,a)),l}function Z(o){const e=o.length<0?0:q(o.length)|0,i=y(e);for(let l=0;l<e;l+=1)i[l]=o[l]&255;return i}function b(o){if(k(o,u)){const e=new u(o);return _(e.buffer,e.byteOffset,e.byteLength)}return Z(o)}function _(o,e,i){if(e<0||o.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');let l;return e===void 0&&i===void 0?l=new u(o):i===void 0?l=new u(o,e):l=new u(o,e,i),Object.setPrototypeOf(l,c.prototype),l}function P(o){if(c.isBuffer(o)){const e=q(o.length)|0,i=y(e);return i.length===0||o.copy(i,0,0,e),i}if(o.length!==void 0)return typeof o.length!="number"||St(o.length)?y(0):Z(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Z(o.data)}function q(o){if(o>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return o|0}function vt(o){return+o!=o&&(o=0),c.alloc(+o)}c.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==c.prototype},c.compare=function(e,i){if(k(e,u)&&(e=c.from(e,e.offset,e.byteLength)),k(i,u)&&(i=c.from(i,i.offset,i.byteLength)),!c.isBuffer(e)||!c.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===i)return 0;let l=e.length,a=i.length;for(let p=0,d=Math.min(l,a);p<d;++p)if(e[p]!==i[p]){l=e[p],a=i[p];break}return l<a?-1:a<l?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,i){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return c.alloc(0);let l;if(i===void 0)for(i=0,l=0;l<e.length;++l)i+=e[l].length;const a=c.allocUnsafe(i);let p=0;for(l=0;l<e.length;++l){let d=e[l];if(k(d,u))p+d.length>a.length?(c.isBuffer(d)||(d=c.from(d)),d.copy(a,p)):u.prototype.set.call(a,d,p);else if(c.isBuffer(d))d.copy(a,p);else throw new TypeError('"list" argument must be an Array of Buffers');p+=d.length}return a};function kt(o,e){if(c.isBuffer(o))return o.length;if(f.isView(o)||k(o,f))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);const i=o.length,l=arguments.length>2&&arguments[2]===!0;if(!l&&i===0)return 0;let a=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return bt(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Zt(o).length;default:if(a)return l?-1:bt(o).length;e=(""+e).toLowerCase(),a=!0}}c.byteLength=kt;function Te(o,e,i){let l=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(o||(o="utf8");;)switch(o){case"hex":return Ve(this,e,i);case"utf8":case"utf-8":return Gt(this,e,i);case"ascii":return We(this,e,i);case"latin1":case"binary":return ke(this,e,i);case"base64":return Ne(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ye(this,e,i);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),l=!0}}c.prototype._isBuffer=!0;function tt(o,e,i){const l=o[e];o[e]=o[i],o[i]=l}c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<e;i+=2)tt(this,i,i+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<e;i+=4)tt(this,i,i+3),tt(this,i+1,i+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<e;i+=8)tt(this,i,i+7),tt(this,i+1,i+6),tt(this,i+2,i+5),tt(this,i+3,i+4);return this},c.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?Gt(this,0,e):Te.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:c.compare(this,e)===0},c.prototype.inspect=function(){let e="";const i=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,i,l,a,p){if(k(e,u)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(i===void 0&&(i=0),l===void 0&&(l=e?e.length:0),a===void 0&&(a=0),p===void 0&&(p=this.length),i<0||l>e.length||a<0||p>this.length)throw new RangeError("out of range index");if(a>=p&&i>=l)return 0;if(a>=p)return-1;if(i>=l)return 1;if(i>>>=0,l>>>=0,a>>>=0,p>>>=0,this===e)return 0;let d=p-a,v=l-i;const B=Math.min(d,v),R=this.slice(a,p),O=e.slice(i,l);for(let C=0;C<B;++C)if(R[C]!==O[C]){d=R[C],v=O[C];break}return d<v?-1:v<d?1:0};function Vt(o,e,i,l,a){if(o.length===0)return-1;if(typeof i=="string"?(l=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,St(i)&&(i=a?0:o.length-1),i<0&&(i=o.length+i),i>=o.length){if(a)return-1;i=o.length-1}else if(i<0)if(a)i=0;else return-1;if(typeof e=="string"&&(e=c.from(e,l)),c.isBuffer(e))return e.length===0?-1:Yt(o,e,i,l,a);if(typeof e=="number")return e=e&255,typeof u.prototype.indexOf=="function"?a?u.prototype.indexOf.call(o,e,i):u.prototype.lastIndexOf.call(o,e,i):Yt(o,[e],i,l,a);throw new TypeError("val must be string, number or Buffer")}function Yt(o,e,i,l,a){let p=1,d=o.length,v=e.length;if(l!==void 0&&(l=String(l).toLowerCase(),l==="ucs2"||l==="ucs-2"||l==="utf16le"||l==="utf-16le")){if(o.length<2||e.length<2)return-1;p=2,d/=2,v/=2,i/=2}function B(O,C){return p===1?O[C]:O.readUInt16BE(C*p)}let R;if(a){let O=-1;for(R=i;R<d;R++)if(B(o,R)===B(e,O===-1?0:R-O)){if(O===-1&&(O=R),R-O+1===v)return O*p}else O!==-1&&(R-=R-O),O=-1}else for(i+v>d&&(i=d-v),R=i;R>=0;R--){let O=!0;for(let C=0;C<v;C++)if(B(o,R+C)!==B(e,C)){O=!1;break}if(O)return R}return-1}c.prototype.includes=function(e,i,l){return this.indexOf(e,i,l)!==-1},c.prototype.indexOf=function(e,i,l){return Vt(this,e,i,l,!0)},c.prototype.lastIndexOf=function(e,i,l){return Vt(this,e,i,l,!1)};function Fe(o,e,i,l){i=Number(i)||0;const a=o.length-i;l?(l=Number(l),l>a&&(l=a)):l=a;const p=e.length;l>p/2&&(l=p/2);let d;for(d=0;d<l;++d){const v=parseInt(e.substr(d*2,2),16);if(St(v))return d;o[i+d]=v}return d}function $e(o,e,i,l){return pt(bt(e,o.length-i),o,i,l)}function Pe(o,e,i,l){return pt(Xe(e),o,i,l)}function Me(o,e,i,l){return pt(Zt(e),o,i,l)}function De(o,e,i,l){return pt(ze(e,o.length-i),o,i,l)}c.prototype.write=function(e,i,l,a){if(i===void 0)a="utf8",l=this.length,i=0;else if(l===void 0&&typeof i=="string")a=i,l=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(l)?(l=l>>>0,a===void 0&&(a="utf8")):(a=l,l=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const p=this.length-i;if((l===void 0||l>p)&&(l=p),e.length>0&&(l<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let d=!1;for(;;)switch(a){case"hex":return Fe(this,e,i,l);case"utf8":case"utf-8":return $e(this,e,i,l);case"ascii":case"latin1":case"binary":return Pe(this,e,i,l);case"base64":return Me(this,e,i,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,e,i,l);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),d=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ne(o,e,i){return e===0&&i===o.length?t.fromByteArray(o):t.fromByteArray(o.slice(e,i))}function Gt(o,e,i){i=Math.min(o.length,i);const l=[];let a=e;for(;a<i;){const p=o[a];let d=null,v=p>239?4:p>223?3:p>191?2:1;if(a+v<=i){let B,R,O,C;switch(v){case 1:p<128&&(d=p);break;case 2:B=o[a+1],(B&192)===128&&(C=(p&31)<<6|B&63,C>127&&(d=C));break;case 3:B=o[a+1],R=o[a+2],(B&192)===128&&(R&192)===128&&(C=(p&15)<<12|(B&63)<<6|R&63,C>2047&&(C<55296||C>57343)&&(d=C));break;case 4:B=o[a+1],R=o[a+2],O=o[a+3],(B&192)===128&&(R&192)===128&&(O&192)===128&&(C=(p&15)<<18|(B&63)<<12|(R&63)<<6|O&63,C>65535&&C<1114112&&(d=C))}}d===null?(d=65533,v=1):d>65535&&(d-=65536,l.push(d>>>10&1023|55296),d=56320|d&1023),l.push(d),a+=v}return Ue(l)}const Ht=4096;function Ue(o){const e=o.length;if(e<=Ht)return String.fromCharCode.apply(String,o);let i="",l=0;for(;l<e;)i+=String.fromCharCode.apply(String,o.slice(l,l+=Ht));return i}function We(o,e,i){let l="";i=Math.min(o.length,i);for(let a=e;a<i;++a)l+=String.fromCharCode(o[a]&127);return l}function ke(o,e,i){let l="";i=Math.min(o.length,i);for(let a=e;a<i;++a)l+=String.fromCharCode(o[a]);return l}function Ve(o,e,i){const l=o.length;(!e||e<0)&&(e=0),(!i||i<0||i>l)&&(i=l);let a="";for(let p=e;p<i;++p)a+=qe[o[p]];return a}function Ye(o,e,i){const l=o.slice(e,i);let a="";for(let p=0;p<l.length-1;p+=2)a+=String.fromCharCode(l[p]+l[p+1]*256);return a}c.prototype.slice=function(e,i){const l=this.length;e=~~e,i=i===void 0?l:~~i,e<0?(e+=l,e<0&&(e=0)):e>l&&(e=l),i<0?(i+=l,i<0&&(i=0)):i>l&&(i=l),i<e&&(i=e);const a=this.subarray(e,i);return Object.setPrototypeOf(a,c.prototype),a};function F(o,e,i){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+e>i)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(e,i,l){e=e>>>0,i=i>>>0,l||F(e,i,this.length);let a=this[e],p=1,d=0;for(;++d<i&&(p*=256);)a+=this[e+d]*p;return a},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,i,l){e=e>>>0,i=i>>>0,l||F(e,i,this.length);let a=this[e+--i],p=1;for(;i>0&&(p*=256);)a+=this[e+--i]*p;return a},c.prototype.readUint8=c.prototype.readUInt8=function(e,i){return e=e>>>0,i||F(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,i){return e=e>>>0,i||F(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,i){return e=e>>>0,i||F(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,i){return e=e>>>0,i||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,i){return e=e>>>0,i||F(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=K(function(e){e=e>>>0,st(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&at(e,this.length-8);const a=i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,p=this[++e]+this[++e]*2**8+this[++e]*2**16+l*2**24;return BigInt(a)+(BigInt(p)<<BigInt(32))}),c.prototype.readBigUInt64BE=K(function(e){e=e>>>0,st(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&at(e,this.length-8);const a=i*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],p=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+l;return(BigInt(a)<<BigInt(32))+BigInt(p)}),c.prototype.readIntLE=function(e,i,l){e=e>>>0,i=i>>>0,l||F(e,i,this.length);let a=this[e],p=1,d=0;for(;++d<i&&(p*=256);)a+=this[e+d]*p;return p*=128,a>=p&&(a-=Math.pow(2,8*i)),a},c.prototype.readIntBE=function(e,i,l){e=e>>>0,i=i>>>0,l||F(e,i,this.length);let a=i,p=1,d=this[e+--a];for(;a>0&&(p*=256);)d+=this[e+--a]*p;return p*=128,d>=p&&(d-=Math.pow(2,8*i)),d},c.prototype.readInt8=function(e,i){return e=e>>>0,i||F(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},c.prototype.readInt16LE=function(e,i){e=e>>>0,i||F(e,2,this.length);const l=this[e]|this[e+1]<<8;return l&32768?l|4294901760:l},c.prototype.readInt16BE=function(e,i){e=e>>>0,i||F(e,2,this.length);const l=this[e+1]|this[e]<<8;return l&32768?l|4294901760:l},c.prototype.readInt32LE=function(e,i){return e=e>>>0,i||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,i){return e=e>>>0,i||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=K(function(e){e=e>>>0,st(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&at(e,this.length-8);const a=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(l<<24);return(BigInt(a)<<BigInt(32))+BigInt(i+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),c.prototype.readBigInt64BE=K(function(e){e=e>>>0,st(e,"offset");const i=this[e],l=this[e+7];(i===void 0||l===void 0)&&at(e,this.length-8);const a=(i<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+l)}),c.prototype.readFloatLE=function(e,i){return e=e>>>0,i||F(e,4,this.length),n.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,i){return e=e>>>0,i||F(e,4,this.length),n.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,i){return e=e>>>0,i||F(e,8,this.length),n.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,i){return e=e>>>0,i||F(e,8,this.length),n.read(this,e,!1,52,8)};function D(o,e,i,l,a,p){if(!c.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>a||e<p)throw new RangeError('"value" argument is out of bounds');if(i+l>o.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,i,l,a){if(e=+e,i=i>>>0,l=l>>>0,!a){const v=Math.pow(2,8*l)-1;D(this,e,i,l,v,0)}let p=1,d=0;for(this[i]=e&255;++d<l&&(p*=256);)this[i+d]=e/p&255;return i+l},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,i,l,a){if(e=+e,i=i>>>0,l=l>>>0,!a){const v=Math.pow(2,8*l)-1;D(this,e,i,l,v,0)}let p=l-1,d=1;for(this[i+p]=e&255;--p>=0&&(d*=256);)this[i+p]=e/d&255;return i+l},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,1,255,0),this[i]=e&255,i+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,2,65535,0),this[i]=e&255,this[i+1]=e>>>8,i+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,2,65535,0),this[i]=e>>>8,this[i+1]=e&255,i+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,4,4294967295,0),this[i+3]=e>>>24,this[i+2]=e>>>16,this[i+1]=e>>>8,this[i]=e&255,i+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,4,4294967295,0),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4};function jt(o,e,i,l,a){Jt(e,l,a,o,i,7);let p=Number(e&BigInt(4294967295));o[i++]=p,p=p>>8,o[i++]=p,p=p>>8,o[i++]=p,p=p>>8,o[i++]=p;let d=Number(e>>BigInt(32)&BigInt(4294967295));return o[i++]=d,d=d>>8,o[i++]=d,d=d>>8,o[i++]=d,d=d>>8,o[i++]=d,i}function Xt(o,e,i,l,a){Jt(e,l,a,o,i,7);let p=Number(e&BigInt(4294967295));o[i+7]=p,p=p>>8,o[i+6]=p,p=p>>8,o[i+5]=p,p=p>>8,o[i+4]=p;let d=Number(e>>BigInt(32)&BigInt(4294967295));return o[i+3]=d,d=d>>8,o[i+2]=d,d=d>>8,o[i+1]=d,d=d>>8,o[i]=d,i+8}c.prototype.writeBigUInt64LE=K(function(e,i=0){return jt(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=K(function(e,i=0){return Xt(this,e,i,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,i,l,a){if(e=+e,i=i>>>0,!a){const B=Math.pow(2,8*l-1);D(this,e,i,l,B-1,-B)}let p=0,d=1,v=0;for(this[i]=e&255;++p<l&&(d*=256);)e<0&&v===0&&this[i+p-1]!==0&&(v=1),this[i+p]=(e/d>>0)-v&255;return i+l},c.prototype.writeIntBE=function(e,i,l,a){if(e=+e,i=i>>>0,!a){const B=Math.pow(2,8*l-1);D(this,e,i,l,B-1,-B)}let p=l-1,d=1,v=0;for(this[i+p]=e&255;--p>=0&&(d*=256);)e<0&&v===0&&this[i+p+1]!==0&&(v=1),this[i+p]=(e/d>>0)-v&255;return i+l},c.prototype.writeInt8=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,1,127,-128),e<0&&(e=255+e+1),this[i]=e&255,i+1},c.prototype.writeInt16LE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,2,32767,-32768),this[i]=e&255,this[i+1]=e>>>8,i+2},c.prototype.writeInt16BE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,2,32767,-32768),this[i]=e>>>8,this[i+1]=e&255,i+2},c.prototype.writeInt32LE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,4,2147483647,-2147483648),this[i]=e&255,this[i+1]=e>>>8,this[i+2]=e>>>16,this[i+3]=e>>>24,i+4},c.prototype.writeInt32BE=function(e,i,l){return e=+e,i=i>>>0,l||D(this,e,i,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[i]=e>>>24,this[i+1]=e>>>16,this[i+2]=e>>>8,this[i+3]=e&255,i+4},c.prototype.writeBigInt64LE=K(function(e,i=0){return jt(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=K(function(e,i=0){return Xt(this,e,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function zt(o,e,i,l,a,p){if(i+l>o.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function qt(o,e,i,l,a){return e=+e,i=i>>>0,a||zt(o,e,i,4),n.write(o,e,i,l,23,4),i+4}c.prototype.writeFloatLE=function(e,i,l){return qt(this,e,i,!0,l)},c.prototype.writeFloatBE=function(e,i,l){return qt(this,e,i,!1,l)};function Kt(o,e,i,l,a){return e=+e,i=i>>>0,a||zt(o,e,i,8),n.write(o,e,i,l,52,8),i+8}c.prototype.writeDoubleLE=function(e,i,l){return Kt(this,e,i,!0,l)},c.prototype.writeDoubleBE=function(e,i,l){return Kt(this,e,i,!1,l)},c.prototype.copy=function(e,i,l,a){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(l||(l=0),!a&&a!==0&&(a=this.length),i>=e.length&&(i=e.length),i||(i=0),a>0&&a<l&&(a=l),a===l||e.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(l<0||l>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-i<a-l&&(a=e.length-i+l);const p=a-l;return this===e&&typeof u.prototype.copyWithin=="function"?this.copyWithin(i,l,a):u.prototype.set.call(e,this.subarray(l,a),i),p},c.prototype.fill=function(e,i,l,a){if(typeof e=="string"){if(typeof i=="string"?(a=i,i=0,l=this.length):typeof l=="string"&&(a=l,l=this.length),a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!c.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(e.length===1){const d=e.charCodeAt(0);(a==="utf8"&&d<128||a==="latin1")&&(e=d)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(i<0||this.length<i||this.length<l)throw new RangeError("Out of range index");if(l<=i)return this;i=i>>>0,l=l===void 0?this.length:l>>>0,e||(e=0);let p;if(typeof e=="number")for(p=i;p<l;++p)this[p]=e;else{const d=c.isBuffer(e)?e:c.from(e,a),v=d.length;if(v===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(p=0;p<l-i;++p)this[p+i]=d[p%v]}return this};const rt={};function It(o,e,i){rt[o]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${o}]`,this.stack,delete this.name}get code(){return o}set code(a){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:a,writable:!0})}toString(){return`${this.name} [${o}]: ${this.message}`}}}It("ERR_BUFFER_OUT_OF_BOUNDS",function(o){return o?`${o} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),It("ERR_INVALID_ARG_TYPE",function(o,e){return`The "${o}" argument must be of type number. Received type ${typeof e}`},TypeError),It("ERR_OUT_OF_RANGE",function(o,e,i){let l=`The value of "${o}" is out of range.`,a=i;return Number.isInteger(i)&&Math.abs(i)>2**32?a=Qt(String(i)):typeof i=="bigint"&&(a=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(a=Qt(a)),a+="n"),l+=` It must be ${e}. Received ${a}`,l},RangeError);function Qt(o){let e="",i=o.length;const l=o[0]==="-"?1:0;for(;i>=l+4;i-=3)e=`_${o.slice(i-3,i)}${e}`;return`${o.slice(0,i)}${e}`}function Ge(o,e,i){st(e,"offset"),(o[e]===void 0||o[e+i]===void 0)&&at(e,o.length-(i+1))}function Jt(o,e,i,l,a,p){if(o>i||o<e){const d=typeof e=="bigint"?"n":"";let v;throw e===0||e===BigInt(0)?v=`>= 0${d} and < 2${d} ** ${(p+1)*8}${d}`:v=`>= -(2${d} ** ${(p+1)*8-1}${d}) and < 2 ** ${(p+1)*8-1}${d}`,new rt.ERR_OUT_OF_RANGE("value",v,o)}Ge(l,a,p)}function st(o,e){if(typeof o!="number")throw new rt.ERR_INVALID_ARG_TYPE(e,"number",o)}function at(o,e,i){throw Math.floor(o)!==o?(st(o,i),new rt.ERR_OUT_OF_RANGE("offset","an integer",o)):e<0?new rt.ERR_BUFFER_OUT_OF_BOUNDS:new rt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,o)}const He=/[^+/0-9A-Za-z-_]/g;function je(o){if(o=o.split("=")[0],o=o.trim().replace(He,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function bt(o,e){e=e||1/0;let i;const l=o.length;let a=null;const p=[];for(let d=0;d<l;++d){if(i=o.charCodeAt(d),i>55295&&i<57344){if(!a){if(i>56319){(e-=3)>-1&&p.push(239,191,189);continue}else if(d+1===l){(e-=3)>-1&&p.push(239,191,189);continue}a=i;continue}if(i<56320){(e-=3)>-1&&p.push(239,191,189),a=i;continue}i=(a-55296<<10|i-56320)+65536}else a&&(e-=3)>-1&&p.push(239,191,189);if(a=null,i<128){if((e-=1)<0)break;p.push(i)}else if(i<2048){if((e-=2)<0)break;p.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;p.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;p.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return p}function Xe(o){const e=[];for(let i=0;i<o.length;++i)e.push(o.charCodeAt(i)&255);return e}function ze(o,e){let i,l,a;const p=[];for(let d=0;d<o.length&&!((e-=2)<0);++d)i=o.charCodeAt(d),l=i>>8,a=i%256,p.push(a),p.push(l);return p}function Zt(o){return t.toByteArray(je(o))}function pt(o,e,i,l){let a;for(a=0;a<l&&!(a+i>=e.length||a>=o.length);++a)e[a+i]=o[a];return a}function k(o,e){return o instanceof e||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===e.name}function St(o){return o!==o}const qe=function(){const o="0123456789abcdef",e=new Array(256);for(let i=0;i<16;++i){const l=i*16;for(let a=0;a<16;++a)e[l+a]=o[i]+o[a]}return e}();function K(o){return typeof BigInt>"u"?Ke:o}function Ke(){throw new Error("BigInt not supported")}})(ue);const ut=ue.Buffer;function Ei(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ce={exports:{}},T=ce.exports={},V,Y;function Bt(){throw new Error("setTimeout has not been defined")}function Ot(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?V=setTimeout:V=Bt}catch{V=Bt}try{typeof clearTimeout=="function"?Y=clearTimeout:Y=Ot}catch{Y=Ot}})();function fe(r){if(V===setTimeout)return setTimeout(r,0);if((V===Bt||!V)&&setTimeout)return V=setTimeout,setTimeout(r,0);try{return V(r,0)}catch{try{return V.call(null,r,0)}catch{return V.call(this,r,0)}}}function wi(r){if(Y===clearTimeout)return clearTimeout(r);if((Y===Ot||!Y)&&clearTimeout)return Y=clearTimeout,clearTimeout(r);try{return Y(r)}catch{try{return Y.call(null,r)}catch{return Y.call(this,r)}}}var X=[],lt=!1,nt,dt=-1;function yi(){!lt||!nt||(lt=!1,nt.length?X=nt.concat(X):dt=-1,X.length&&pe())}function pe(){if(!lt){var r=fe(yi);lt=!0;for(var t=X.length;t;){for(nt=X,X=[];++dt<t;)nt&&nt[dt].run();dt=-1,t=X.length}nt=null,lt=!1,wi(r)}}T.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];X.push(new de(r,t)),X.length===1&&!lt&&fe(pe)};function de(r,t){this.fun=r,this.array=t}de.prototype.run=function(){this.fun.apply(null,this.array)};T.title="browser";T.browser=!0;T.env={};T.argv=[];T.version="";T.versions={};function z(){}T.on=z;T.addListener=z;T.once=z;T.off=z;T.removeListener=z;T.removeAllListeners=z;T.emit=z;T.prependListener=z;T.prependOnceListener=z;T.listeners=function(r){return[]};T.binding=function(r){throw new Error("process.binding is not supported")};T.cwd=function(){return"/"};T.chdir=function(r){throw new Error("process.chdir is not supported")};T.umask=function(){return 0};var Ai=ce.exports;const xi=Ei(Ai);function _i(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wt={exports:{}},ht=typeof Reflect=="object"?Reflect:null,ee=ht&&typeof ht.apply=="function"?ht.apply:function(t,n,s){return Function.prototype.apply.call(t,n,s)},gt;ht&&typeof ht.ownKeys=="function"?gt=ht.ownKeys:Object.getOwnPropertySymbols?gt=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:gt=function(t){return Object.getOwnPropertyNames(t)};function vi(r){console&&console.warn&&console.warn(r)}var ge=Number.isNaN||function(t){return t!==t};function S(){S.init.call(this)}Wt.exports=S;Wt.exports.once=Ci;S.EventEmitter=S;S.prototype._events=void 0;S.prototype._eventsCount=0;S.prototype._maxListeners=void 0;var ie=10;function _t(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(S,"defaultMaxListeners",{enumerable:!0,get:function(){return ie},set:function(r){if(typeof r!="number"||r<0||ge(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");ie=r}});S.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};S.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ge(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function me(r){return r._maxListeners===void 0?S.defaultMaxListeners:r._maxListeners}S.prototype.getMaxListeners=function(){return me(this)};S.prototype.emit=function(t){for(var n=[],s=1;s<arguments.length;s++)n.push(arguments[s]);var h=t==="error",u=this._events;if(u!==void 0)h=h&&u.error===void 0;else if(!h)return!1;if(h){var f;if(n.length>0&&(f=n[0]),f instanceof Error)throw f;var g=new Error("Unhandled error."+(f?" ("+f.message+")":""));throw g.context=f,g}var m=u[t];if(m===void 0)return!1;if(typeof m=="function")ee(m,this,n);else for(var y=m.length,c=xe(m,y),s=0;s<y;++s)ee(c[s],this,n);return!0};function Ee(r,t,n,s){var h,u,f;if(_t(n),u=r._events,u===void 0?(u=r._events=Object.create(null),r._eventsCount=0):(u.newListener!==void 0&&(r.emit("newListener",t,n.listener?n.listener:n),u=r._events),f=u[t]),f===void 0)f=u[t]=n,++r._eventsCount;else if(typeof f=="function"?f=u[t]=s?[n,f]:[f,n]:s?f.unshift(n):f.push(n),h=me(r),h>0&&f.length>h&&!f.warned){f.warned=!0;var g=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");g.name="MaxListenersExceededWarning",g.emitter=r,g.type=t,g.count=f.length,vi(g)}return r}S.prototype.addListener=function(t,n){return Ee(this,t,n,!1)};S.prototype.on=S.prototype.addListener;S.prototype.prependListener=function(t,n){return Ee(this,t,n,!0)};function Ii(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function we(r,t,n){var s={fired:!1,wrapFn:void 0,target:r,type:t,listener:n},h=Ii.bind(s);return h.listener=n,s.wrapFn=h,h}S.prototype.once=function(t,n){return _t(n),this.on(t,we(this,t,n)),this};S.prototype.prependOnceListener=function(t,n){return _t(n),this.prependListener(t,we(this,t,n)),this};S.prototype.removeListener=function(t,n){var s,h,u,f,g;if(_t(n),h=this._events,h===void 0)return this;if(s=h[t],s===void 0)return this;if(s===n||s.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete h[t],h.removeListener&&this.emit("removeListener",t,s.listener||n));else if(typeof s!="function"){for(u=-1,f=s.length-1;f>=0;f--)if(s[f]===n||s[f].listener===n){g=s[f].listener,u=f;break}if(u<0)return this;u===0?s.shift():bi(s,u),s.length===1&&(h[t]=s[0]),h.removeListener!==void 0&&this.emit("removeListener",t,g||n)}return this};S.prototype.off=S.prototype.removeListener;S.prototype.removeAllListeners=function(t){var n,s,h;if(s=this._events,s===void 0)return this;if(s.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):s[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete s[t]),this;if(arguments.length===0){var u=Object.keys(s),f;for(h=0;h<u.length;++h)f=u[h],f!=="removeListener"&&this.removeAllListeners(f);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=s[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(h=n.length-1;h>=0;h--)this.removeListener(t,n[h]);return this};function ye(r,t,n){var s=r._events;if(s===void 0)return[];var h=s[t];return h===void 0?[]:typeof h=="function"?n?[h.listener||h]:[h]:n?Si(h):xe(h,h.length)}S.prototype.listeners=function(t){return ye(this,t,!0)};S.prototype.rawListeners=function(t){return ye(this,t,!1)};S.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):Ae.call(r,t)};S.prototype.listenerCount=Ae;function Ae(r){var t=this._events;if(t!==void 0){var n=t[r];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}S.prototype.eventNames=function(){return this._eventsCount>0?gt(this._events):[]};function xe(r,t){for(var n=new Array(t),s=0;s<t;++s)n[s]=r[s];return n}function bi(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function Si(r){for(var t=new Array(r.length),n=0;n<t.length;++n)t[n]=r[n].listener||r[n];return t}function Ci(r,t){return new Promise(function(n,s){function h(f){r.removeListener(t,u),s(f)}function u(){typeof r.removeListener=="function"&&r.removeListener("error",h),n([].slice.call(arguments))}_e(r,t,u,{once:!0}),t!=="error"&&Ri(r,h,{once:!0})})}function Ri(r,t,n){typeof r.on=="function"&&_e(r,"error",t,n)}function _e(r,t,n,s){if(typeof r.on=="function")s.once?r.once(t,n):r.on(t,n);else if(typeof r.addEventListener=="function")r.addEventListener(t,function h(u){s.once&&r.removeEventListener(t,h),n(u)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var ve=Wt.exports,Ie={to7BitArray(r){let t=0,n=0;const s=[];for(let h of r)t===0?(s.push(h&127),t++,n=h>>7):(s.push(h<<t&127|n),t===6?(s.push(h>>1),t=0):(t++,n=h>>8-t));return t>0&&s.push(n),s},from7BitArray(r){const t=r.length*7>>3,n=[];for(let s=0;s<t;s++){const h=s<<3,u=h/7>>>0,f=h%7;n[s]=r[u]>>f|r[u+1]<<7-f&255}return n}};const Li=Ie,be={crc8(r){let t=0;for(let n of r)for(let s=8;s;s--){const h=(t^n)&1;t>>=1,h&&(t^=140),n>>=1}return t},readDevices(r){const t=Li.from7BitArray(r),n=[];for(let s=0;s<t.length;s+=8){const h=t.slice(s,s+8);if(h.length!==8)continue;be.crc8(h.slice(0,7))!==h[7]&&console.error("ROM invalid!"),n.push(h)}return n}};var Bi=be,Oi={};const Ti=ve,Se=Ie,ne=Bi,ft=new Map,Fi=105,$i=106,Tt=224,Pi=107,Mi=108,Ft=144,A=247,Di=111,Ni=120,Ui=119,Q=118,Wi=24,ki=65,mt=115,Vi=16,Yi=67,re=8,Gi=1,Hi=69,ji=68,Xi=66,zi=64,qi=60,se=32,Ki=244,Qi=109,Ji=110,$t=117,Ce=121,Zi=192,tn=208,Et=249,en=122,nn=112,J=96,rn=16,sn=32,oe=48,on=64,ln=80,hn=96,un=112,E=240,Pt=114,N=98,Re=113,an=255,cn=128,wt=Symbol("sendOneWireSearch"),it=Symbol("sendOneWireRequest"),Mt={[Et](r){r.version.major=r.buffer[1],r.version.minor=r.buffer[2],r.emit("reportversion")},[Tt](r){const t=r.buffer[0]&15,n=r.buffer[1]|r.buffer[2]<<7;r.pins[r.analogPins[t]]&&(r.pins[r.analogPins[t]].value=n),r.emit(`analog-read-${t}`,n),r.emit("analog-read",{pin:t,value:n})},[Ft](r){const t=r.buffer[0]&15,n=r.buffer[1]|r.buffer[2]<<7;for(let s=0;s<8;s++){const h=8*t+s,u=r.pins[h],f=1<<s;if(u&&(u.mode===r.MODES.INPUT||u.mode===r.MODES.PULLUP)){u.value=n>>(s&7)&1,u.value?r.ports[t]|=f:r.ports[t]&=~f;let{value:g}=u;r.emit(`digital-read-${h}`,g),r.emit("digital-read",{pin:h,value:g})}}}},At={[Ce](r){const t=r.buffer.length-2,n=ut.alloc(Math.round((t-4)/2));let s=0,h=0;for(let u=4;u<t;u+=2)s=(r.buffer[u]&127|(r.buffer[u+1]&127)<<7)&255,n.writeUInt8(s,h++);r.firmware={name:n.toString(),version:{major:r.buffer[2],minor:r.buffer[3]}},r.emit("queryfirmware")},[Mi](r){const t=Object.keys(r.MODES).map(f=>r.MODES[f]);let n,s,h=0;function u(f){return t.reduce((g,m)=>(f&1<<m&&g.push(m),g),[])}if(!r.pins.length)for(let f=2,g=0;f<r.buffer.length-1;f++){if(r.buffer[f]===127){r.pins.push({supportedModes:u(h),mode:void 0,value:0,report:1}),h=0,g=0;continue}g===0&&(n=r.buffer[f],s=(1<<r.buffer[f+1])-1,h|=1<<n,n===r.MODES.ANALOG&&r.RESOLUTION.ADC===null&&(r.RESOLUTION.ADC=s),n===r.MODES.PWM&&r.RESOLUTION.PWM===null&&(r.RESOLUTION.PWM=s)),g^=1}r.emit("capability-query")},[Ji](r){let t=r.buffer[2];r.pins[t].mode=r.buffer[3],r.pins[t].state=r.buffer[4],r.buffer.length>6&&(r.pins[t].state|=r.buffer[5]<<7),r.buffer.length>7&&(r.pins[t].state|=r.buffer[6]<<14),r.emit(`pin-state-${t}`)},[$i](r){let t=0,n;for(let s=2;s<r.buffer.length-1;s++)n=r.buffer[s],r.pins[t].analogChannel=n,n!==127&&r.analogPins.push(t),t++;r.emit("analog-mapping-query")},[Ui](r){const t=[],n=r.buffer[2]&127|(r.buffer[3]&127)<<7,s=r.buffer[4]&127|(r.buffer[5]&127)<<7;for(let h=6,u=r.buffer.length-1;h<u;h+=2)t.push(r.buffer[h]|r.buffer[h+1]<<7);r.emit(`I2C-reply-${n}-${s}`,t)},[mt](r){const t=r.buffer[2];At[t]&&At[t](r)},[Xi](r){const t=r.buffer[3],n=r.buffer.slice(4,r.buffer.length-1);r.emit(`1-wire-search-reply-${t}`,ne.readDevices(n))},[Hi](r){const t=r.buffer[3],n=r.buffer.slice(4,r.buffer.length-1);r.emit(`1-wire-search-alarms-reply-${t}`,ne.readDevices(n))},[Yi](r){const t=r.buffer.slice(4,r.buffer.length-1),n=Se.from7BitArray(t),s=n[1]<<8|n[0];r.emit(`1-wire-read-reply-${s}`,n.slice(2))},[Re](r){r.emit("string",ut.from(r.buffer.slice(2,-1)).toString().replace(/\0/g,""))},[$t](r){const t=r.buffer[2]&127|(r.buffer[3]&127)<<7,n=[r.buffer[4]&127|(r.buffer[5]&127)<<7,r.buffer[6]&127|(r.buffer[7]&127)<<7,r.buffer[8]&127|(r.buffer[9]&127)<<7,r.buffer[10]&127|(r.buffer[11]&127)<<7],s=(n[0]<<24)+(n[1]<<16)+(n[2]<<8)+n[3];r.emit(`ping-read-${t}`,s)},[Pt](r){const t=r.buffer[2];r.emit(`stepper-done-${t}`,!0)},[N](r){const t=r.buffer[2],n=r.buffer[3],s=t===6||t===10?Le(r.buffer.slice(4,9)):null;t===6&&r.emit(`stepper-position-${n}`,s),t===10&&r.emit(`stepper-done-${n}`,s),t===36&&r.emit(`multi-stepper-done-${n}`)},[J](r){const t=r.buffer[2]&E,n=r.buffer[2]&15,s=[];if(t===on){for(let h=3,u=r.buffer.length;h<u-1;h+=2)s.push(r.buffer[h+1]<<7|r.buffer[h]);r.emit(`serial-data-${n}`,s)}}};let G=null;class $ extends Ti{constructor(t,n,s){super(),(typeof n=="function"||typeof n>"u")&&(s=n,n={});const h=this,f=Object.assign({},{reportVersionTimeout:5e3,samplingInterval:19,serialport:{baudRate:57600,highWaterMark:256}},n);if(this.isReady=!1,this.MODES={INPUT:0,OUTPUT:1,ANALOG:2,PWM:3,SERVO:4,SHIFT:5,I2C:6,ONEWIRE:7,STEPPER:8,SERIAL:10,PULLUP:11,IGNORE:127,PING_READ:117,UNKOWN:16},this.I2C_MODES={WRITE:0,READ:1,CONTINUOUS_READ:2,STOP_READING:3},this.STEPPER={TYPE:{DRIVER:1,TWO_WIRE:2,THREE_WIRE:3,FOUR_WIRE:4},STEP_SIZE:{WHOLE:0,HALF:1},RUN_STATE:{STOP:0,ACCEL:1,DECEL:2,RUN:3},DIRECTION:{CCW:0,CW:1}},this.SERIAL_MODES={CONTINUOUS_READ:0,STOP_READING:1},this.SERIAL_PORT_IDs={HW_SERIAL0:0,HW_SERIAL1:1,HW_SERIAL2:2,HW_SERIAL3:3,SW_SERIAL0:8,SW_SERIAL1:9,SW_SERIAL2:16,SW_SERIAL3:17,DEFAULT:8},this.SERIAL_PIN_TYPES={RES_RX0:0,RES_TX0:1,RES_RX1:2,RES_TX1:3,RES_RX2:4,RES_TX2:5,RES_RX3:6,RES_TX3:7},this.RESOLUTION={ADC:null,DAC:null,PWM:null},this.HIGH=1,this.LOW=0,this.pins=[],this.ports=Array(16).fill(0),this.analogPins=[],this.version={},this.firmware={},this.buffer=[],this.versionReceived=!1,this.name="Firmata",this.settings=f,this.pending=0,this.digitalPortQueue=0,typeof t=="object")this.transport=t;else{if(!G)throw new Error("Missing Default Transport");this.transport=new G(t,f.serialport)}this.transport.on("close",m=>{if(m&&m.disconnect&&m.disconnected){this.emit("disconnect");return}this.emit("close")}),this.transport.on("open",m=>{this.emit("open",m),this.emit("connect",m)}),this.transport.on("error",m=>{!this.isReady&&typeof s=="function"?s(m):this.emit("error",m)}),this.transport.on("data",m=>{for(let y=0;y<m.length;y++){let c=m[y];if(!(this.buffer.length===0&&c===0)){this.buffer.push(c);let w=this.buffer[0],L=this.buffer[this.buffer.length-1];if(w===E&&L===A){let I=At[this.buffer[1]];I&&this.versionReceived&&I(this),this.buffer.length=0}else if(w===E&&this.buffer.length>0){let I=m[y];I>127&&(this.buffer.length=0,this.buffer.push(I))}else if(w!==E){let I=w<E?w&E:w;I!==Et&&I!==Tt&&I!==Ft&&(this.buffer.length=0)}if(this.buffer.length===3&&w!==E){let I=w<E?w&E:w;Mt[I]?((this.versionReceived||w===Et)&&(this.versionReceived=!0,Mt[I](this)),this.buffer.length=0):this.buffer.length=0}}}}),this.reportVersionTimeoutId=setTimeout(()=>{this.versionReceived===!1&&(this.reportVersion(function(){}),this.queryFirmware(function(){}))},f.reportVersionTimeout);function g(){h.isReady=!0,h.emit("ready"),typeof s=="function"&&s()}this.once("reportversion",()=>{clearTimeout(this.reportVersionTimeoutId),this.versionReceived=!0,this.once("queryfirmware",()=>{if(n.samplingInterval!==void 0&&this.setSamplingInterval(n.samplingInterval),f.skipCapabilities){if(this.analogPins=f.analogPins||this.analogPins,this.pins=f.pins||this.pins,!this.pins.length)for(var m=0;m<(f.pinCount||cn);m++){var y=[],c=this.analogPins.indexOf(m);c<0&&(c=127),this.pins.push({supportedModes:y,analogChannel:c})}this.RESOLUTION.ADC=1023,this.RESOLUTION.PWM=255,g()}else this.queryCapabilities(()=>{this.queryAnalogMapping(g)})})})}reportVersion(t){this.once("reportversion",t),x(this,[Et])}queryFirmware(t){this.once("queryfirmware",t),x(this,[E,Ce,A])}analogRead(t,n){this.reportAnalogPin(t,1),this.addListener(`analog-read-${t}`,n)}pwmWrite(t,n){let s;this.pins[t].value=n,t>15?(s=[E,Di,t,n&127,n>>7&127],n>16384&&(s[s.length]=n>>14&127),n>2097152&&(s[s.length]=n>>21&127),n>268435456&&(s[s.length]=n>>28&127),s[s.length]=A):s=[Tt|t,n&127,n>>7&127],x(this,s)}servoConfig(t,n,s){if(typeof t=="object"&&t!==null){let h=t;t=h.pin,n=h.min,s=h.max}if(typeof t>"u")throw new Error("servoConfig: pin must be specified");if(typeof n>"u")throw new Error("servoConfig: min must be specified");if(typeof s>"u")throw new Error("servoConfig: max must be specified");this.pins[t].mode=this.MODES.SERVO,x(this,[E,nn,t,n&127,n>>7&127,s&127,s>>7&127,A])}servoWrite(...t){this.analogWrite(...t)}pinMode(t,n){n===this.MODES.ANALOG?this.pins[this.analogPins[t]].mode=n:(this.pins[t].mode=n,x(this,[Ki,t,n]))}digitalWrite(t,n,s){let h=this.updateDigitalPort(t,n);s?this.digitalPortQueue|=1<<h:this.writeDigitalPort(h)}updateDigitalPort(t,n){const s=t>>3,h=1<<(t&7);return this.pins[t].value=n,n?this.ports[s]|=h:this.ports[s]&=~h,s}flushDigitalPorts(){for(let t=0;t<this.ports.length;t++)this.digitalPortQueue>>t&&this.writeDigitalPort(t);this.digitalPortQueue=0}writeDigitalPort(t){x(this,[Ft|t,this.ports[t]&127,this.ports[t]>>7&127])}digitalRead(t,n){this.reportDigitalPin(t,1),this.addListener(`digital-read-${t}`,n)}queryCapabilities(t){this.once("capability-query",t),x(this,[E,Pi,A])}queryAnalogMapping(t){this.once("analog-mapping-query",t),x(this,[E,Fi,A])}queryPinState(t,n){this.once(`pin-state-${t}`,n),x(this,[E,Qi,t,A])}sendString(t){const n=ut.from(`${t}\0`,"utf8"),s=[];s.push(E,Re);for(let h=0,u=n.length;h<u;h++)s.push(n[h]&127,n[h]>>7&127);s.push(A),x(this,s)}sendI2CConfig(t){return this.i2cConfig(t)}i2cConfig(t){let n=ft.get(this),s;return n||(n={},ft.set(this,n)),typeof t=="number"?s=t:typeof t=="object"&&t!==null&&(s=Number(t.delay),typeof t.address<"u"&&(n[t.address]||(n[t.address]={stopTX:!0})),typeof t.settings<"u"&&Object.assign(n[t.address],t.settings)),n.delay=s=s||0,et(this,[E,Ni,s&255,s>>8&255,A]),this}sendI2CWriteRequest(t,n){const s=[];n=n||[],s.push(E,Q,t,this.I2C_MODES.WRITE<<3);for(let h=0,u=n.length;h<u;h++)s.push(n[h]&127,n[h]>>7&127);s.push(A),et(this,s)}i2cWrite(t,n,s){const h=[E,Q,t,this.I2C_MODES.WRITE<<3];if(arguments.length===3&&!Array.isArray(n)&&!Array.isArray(s))return this.i2cWriteReg(t,n,s);arguments.length===2&&(Array.isArray(n)?(s=n.slice(),n=s.shift()):s=[]);const u=ut.from([n].concat(s));for(var f=0,g=u.length;f<g;f++)h.push(u[f]&127,u[f]>>7&127);return h.push(A),et(this,h),this}i2cWriteReg(t,n,s){return et(this,[E,Q,t,this.I2C_MODES.WRITE<<3,n&127,n>>7&127,s&127,s>>7&127,A]),this}sendI2CReadRequest(t,n,s){et(this,[E,Q,t,this.I2C_MODES.READ<<3,n&127,n>>7&127,A]),this.once(`I2C-reply-${t}-0`,s)}i2cRead(t,n,s,h){arguments.length===3&&typeof n=="number"&&typeof s=="function"&&(h=s,s=n,n=null);const u=[E,Q,t,this.I2C_MODES.CONTINUOUS_READ<<3];let f=`I2C-reply-${t}-`;return n!==null?u.push(n&127,n>>7&127):n=0,f+=n,u.push(s&127,s>>7&127,A),this.on(f,h),et(this,u),this}i2cStop(t){t!=null&&(typeof t=="number"&&(t={address:t}),x(this,[E,Q,t.address,this.I2C_MODES.STOP_READING<<3,A]),Object.keys(this._events).forEach(n=>{n.startsWith(`I2C-reply-${t.address}`)&&this.removeAllListeners(n)}))}i2cReadOnce(t,n,s,h){arguments.length===3&&typeof n=="number"&&typeof s=="function"&&(h=s,s=n,n=null);const u=[E,Q,t,this.I2C_MODES.READ<<3];let f=`I2C-reply-${t}-`;return n!==null?u.push(n&127,n>>7&127):n=0,f+=n,u.push(s&127,s>>7&127,A),this.once(f,h),et(this,u),this}sendOneWireConfig(t,n){x(this,[E,mt,ki,t,n?1:0,A])}sendOneWireSearch(t,n){this[wt](zi,`1-wire-search-reply-${t}`,t,n)}sendOneWireAlarmsSearch(t,n){this[wt](ji,`1-wire-search-alarms-reply-${t}`,t,n)}[wt](t,n,s,h){x(this,[E,mt,t,s,A]);const u=setTimeout(()=>{h(new Error("1-Wire device search timeout - are you running ConfigurableFirmata?"))},5e3);this.once(n,f=>{clearTimeout(u),h(null,f)})}sendOneWireRead(t,n,s,h){const u=Math.floor(Math.random()*255),f=setTimeout(()=>{h(new Error("1-Wire device read timeout - are you running ConfigurableFirmata?"))},5e3);this[it](t,re,n,s,u,null,null,`1-wire-read-reply-${u}`,g=>{clearTimeout(f),h(null,g)})}sendOneWireReset(t){this[it](t,Gi)}sendOneWireWrite(t,n,s){this[it](t,se,n,null,null,null,Array.isArray(s)?s:[s])}sendOneWireDelay(t,n){this[it](t,Vi,null,null,null,n)}sendOneWireWriteAndRead(t,n,s,h,u){const f=Math.floor(Math.random()*255),g=setTimeout(()=>{u(new Error("1-Wire device read timeout - are you running ConfigurableFirmata?"))},5e3);this[it](t,se|re,n,h,f,null,Array.isArray(s)?s:[s],`1-wire-read-reply-${f}`,m=>{clearTimeout(g),u(null,m)})}[it](t,n,s,h,u,f,g,m,y){const c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];(s||h||u||f||g)&&(n=n|qi),s&&c.splice(...[0,8].concat(s)),h&&(c[8]=h&255,c[9]=h>>8&255),u&&(c[10]=u&255,c[11]=u>>8&255),f&&(c[12]=f&255,c[13]=f>>8&255,c[14]=f>>16&255,c[15]=f>>24&255),g&&c.push(...g);const w=[E,mt,n,t,...Se.to7BitArray(c),A];x(this,w),m&&y&&this.once(m,y)}setSamplingInterval(t){const n=t<10?10:t>65535?65535:t;this.settings.samplingInterval=n,x(this,[E,en,n&127,n>>7&127,A])}getSamplingInterval(){return this.settings.samplingInterval}reportAnalogPin(t,n){(n===0||n===1)&&(this.pins[this.analogPins[t]].report=n,x(this,[Zi|t,n]))}reportDigitalPin(t,n){const s=t>>3;(n===0||n===1)&&(this.pins[t].report=n,x(this,[tn|s,n]))}pingRead(t,n){if(!this.pins[t.pin].supportedModes.includes($t))throw new Error("Please upload PingFirmata to the board");const{pin:s,value:h,pulseOut:u=0,timeout:f=1e6}=t;x(this,[E,$t,s,h,...$.encode([u>>24&255,u>>16&255,u>>8&255,u&255]),...$.encode([f>>24&255,f>>16&255,f>>8&255,f&255]),A]),this.once(`ping-read-${s}`,n)}accelStepperConfig(t){let{deviceNum:n,invertPins:s,motorPin1:h,motorPin2:u,motorPin3:f,motorPin4:g,enablePin:m,stepSize:y=this.STEPPER.STEP_SIZE.WHOLE,type:c=this.STEPPER.TYPE.FOUR_WIRE}=t;const w=[E,N,0,n];let L=(c&7)<<4|(y&7)<<1,I=0;typeof m<"u"&&(L=L|1),w.push(L),["stepPin","motorPin1","directionPin","motorPin2","motorPin3","motorPin4","enablePin"].forEach(M=>{typeof t[M]<"u"&&w.push(t[M])}),Array.isArray(s)&&(s.includes(h)&&(I|=1),s.includes(u)&&(I|=2),s.includes(f)&&(I|=4),s.includes(g)&&(I|=8),s.includes(m)&&(I|=16)),w.push(I,A),x(this,w)}accelStepperZero(t){x(this,[E,N,1,t,A])}accelStepperStep(t,n,s){x(this,[E,N,2,t,...yt(n),A]),s&&this.once(`stepper-done-${t}`,s)}accelStepperTo(t,n,s){x(this,[E,N,3,t,...yt(n),A]),s&&this.once(`stepper-done-${t}`,s)}accelStepperEnable(t,n=!0){x(this,[E,N,4,t,n&1,A])}accelStepperStop(t){x(this,[E,N,5,t,A])}accelStepperReportPosition(t,n){x(this,[E,N,6,t,A]),n&&this.once(`stepper-position-${t}`,n)}accelStepperAcceleration(t,n){x(this,[E,N,8,t,...Dt(n),A])}accelStepperSpeed(t,n){x(this,[E,N,9,t,...Dt(n),A])}multiStepperConfig(t){x(this,[E,N,32,t.groupNum,...t.devices,A])}multiStepperTo(t,n,s){if(t<0||t>5)throw new RangeError(`Invalid "groupNum": ${t}. Expected "groupNum" between 0-5`);x(this,[E,N,33,t,...n.reduce((h,u)=>h.concat(...yt(u)),[]),A]),s&&this.once(`multi-stepper-done-${t}`,s)}multiStepperStop(t){if(t<0||t>5)throw new RangeError(`Invalid "groupNum": ${t}. Expected "groupNum" between 0-5`);x(this,[E,N,35,t,A])}stepperConfig(t,n,s,h,u,f,g){x(this,[E,Pt,0,t,n,s&127,s>>7&127,h,u,...n===this.STEPPER.TYPE.FOUR_WIRE?[f,g]:[],A])}stepperStep(t,n,s,h,u,f,g){typeof u=="function"&&(g=u,u=0,f=0),x(this,[E,Pt,1,t,n,s&127,s>>7&127,s>>14&127,h&127,h>>7&127,...u>0||f>0?[u&127,u>>7&127,f&127,f>>7&127]:[],A]),g&&this.once(`stepper-done-${t}`,g)}serialConfig(t){let n,s,h,u;if(typeof t=="object"&&t!==null&&(n=t.portId,s=t.baud,h=t.rxPin,u=t.txPin),typeof n>"u")throw new Error("portId must be specified, see SERIAL_PORT_IDs for options.");s=s||57600;const f=[E,J,rn|n,s&127,s>>7&127,s>>14&127];if(n>7&&typeof h<"u"&&typeof u<"u")f.push(h,u);else if(n>7)throw new Error("Both RX and TX pins must be defined when using Software Serial.");f.push(A),x(this,f)}serialWrite(t,n){const s=[E,J,sn|t];for(let h=0,u=n.length;h<u;h++)s.push(n[h]&127,n[h]>>7&127);s.push(A),n.length>0&&x(this,s)}serialRead(t,n,s){const h=[E,J,oe|t,this.SERIAL_MODES.CONTINUOUS_READ];arguments.length===2&&typeof n=="function"?s=n:h.push(n&127,n>>7&127),h.push(A),x(this,h),this.on(`serial-data-${t}`,s)}serialStop(t){x(this,[E,J,oe|t,this.SERIAL_MODES.STOP_READING,A]),this.removeAllListeners(`serial-data-${t}`)}serialClose(t){x(this,[E,J,ln|t,A])}serialFlush(t){x(this,[E,J,hn|t,A])}serialListen(t){t<8||x(this,[E,J,un|t,A])}sysexResponse(t,n){if($.SYSEX_RESPONSE[t])throw new Error(`${t} is not an available SYSEX_RESPONSE byte`);return $.SYSEX_RESPONSE[t]=s=>n.call(s,s.buffer.slice(2,-1)),this}clearSysexResponse(t){$.SYSEX_RESPONSE[t]&&delete $.SYSEX_RESPONSE[t]}sysexCommand(t){if(!t||!t.length)throw new Error("Sysex Command cannot be empty");return x(this,[E,...t.slice(),A]),this}reset(){x(this,[an])}static isAcceptablePort(t){return!!/usb|acm|^com/i.test(t.path)}static requestPort(t){if(!G||G&&typeof G.list!="function"){xi.nextTick(()=>{t(new Error("No Transport provided"),null)});return}G.list().then(n=>{const s=n.find(h=>$.isAcceptablePort(h)&&h);s?t(null,s):t(new Error("No Acceptable Port Found"),null)}).catch(n=>{t(n,null)})}static encode(t){const n=[],s=t.length;for(let h=0;h<s;h++)n.push(t[h]&127,t[h]>>7&127);return n}static decode(t){const n=[];if(t.length%2!==0)throw new Error("Firmata.decode(data) called with odd number of data bytes");for(;t.length;){const s=t.shift(),h=t.shift();n.push(s|h<<7)}return n}}$.prototype.analogWrite=$.prototype.pwmWrite;$.Board=$;$.SYSEX_RESPONSE=At;$.MIDI_RESPONSE=Mt;function x(r,t){r.pending++,r.transport.write(ut.from(t),()=>r.pending--)}function et(r,t){const n=ft.get(r);if(!n)throw new Error("I2C is not enabled for this board. To enable, call the i2cConfig() method.");if(t[1]===Q){const s=t[2];n[s]||(n[s]={stopTX:!0}),t[3]&Wi&&(t[3]|=+!n[s].stopTX<<6)}x(r,t)}function yt(r){const t=r<0;r=Math.abs(r);const n=[r&127,r>>7&127,r>>14&127,r>>21&127,r>>28&7];return t&&(n[n.length-1]|=8),n}function Le(r){let t=r[0]&127|(r[1]&127)<<7|(r[2]&127)<<14|(r[3]&127)<<21|(r[4]&7)<<28;return r[4]>>3&&(t*=-1),t}const le=Math.pow(2,23);function Dt(r){const t=r<0?1:0;r=Math.abs(r);const n=Math.floor(Math.log10(r));let s=0+n;for(r/=Math.pow(10,n);!Number.isInteger(r)&&r<le;)s-=1,r*=10;for(;r>le;)s+=1,r/=10;return r=Math.trunc(r),s+=11,[r&127,r>>7&127,r>>14&127,r>>21&3|(s&15)<<2|(t&1)<<6]}function fn(r){const t=(r[3]>>2&15)-11,n=r[3]>>6&1;let s=r[0]|r[1]<<7|r[2]<<14|(r[3]&3)<<21;return n&&(s*=-1),s*Math.pow(10,t)}if(Oi.IS_TEST_MODE){let r=null;$.test={i2cPeripheralSettings(t){return ft.get(t)},get i2cActive(){return ft},set transport(t){r=G,G=t},restoreTransport(){G=r},encode32BitSignedInteger:yt,decode32BitSignedInteger:Le,encodeCustomFloat:Dt,decodeCustomFloat:fn,writeToTransport:x,symbols:{SYM_sendOneWireRequest:it,SYM_sendOneWireSearch:wt}}}const Be=function(r){return G=r,$};Be.Firmata=$;var pn=Be;const{EventEmitter:dn}=ve;class gn extends dn{constructor(t,n){super(n),this.options=n||{},this.browser=!0,this.path=this.options.path,this.isOpen=!1,this.port=null,this.writer=null,this.reader=null,this.baudRate=this.options.baudRate,this.requestOptions=this.options.requestOptions||{},this.options.autoOpen&&this.open()}list(t){return navigator.serial.getPorts().then(n=>{if(t)return t(null,n)}).catch(n=>{if(t)return t(n)})}open(t){window.navigator.serial.requestPort(this.requestOptions).then(n=>{if(this.port=n,!this.isOpen)return this.port.open({baudRate:this.baudRate||57600})}).then(()=>this.writer=this.port.writable.getWriter()).then(()=>this.reader=this.port.readable.getReader()).then(async()=>{for(this.emit("open"),this.isOpen=!0,t(null);this.port.readable.locked;)try{const{value:n,done:s}=await this.reader.read();if(s)break;this.emit("data",ut.from(n))}catch(n){console.error(n)}}).catch(n=>{t(n)})}async close(t){try{await this.reader.releaseLock(),await this.writer.releaseLock(),await this.port.close(),this.isOpen=!1}catch(n){if(t)return t(n);throw n}t&&t(null)}async set(t={},n){try{const s={};Object.prototype.hasOwnProperty.call(t,"dtr")&&(s.dataTerminalReady=t.dtr),Object.prototype.hasOwnProperty.call(t,"rts")&&(s.requestToSend=t.rts),Object.prototype.hasOwnProperty.call(t,"brk")&&(s.break=t.brk),Object.keys(s).length>0&&await this.port.setSignals(s)}catch(s){if(n)return n(s);throw s}if(n)return n(null)}write(t,n){if(this.writer.write(t),n)return n(null)}async read(t){let n;try{n=await this.reader.read()}catch(s){if(t)return t(s);throw s}t&&t(null,n)}flush(t){if(console.warn("flush method is a NOP right now"),t)return t(null)}drain(t){if(console.warn("drain method is a NOP right now"),t)return t(null)}}var mn=gn;const En=_i(mn),wn=r=>{console.log("serialport callback"),r!=null&&console.error("serialError: ",r)},he=new En(null,{autoOpen:!1,callback:wn}),yn=()=>{try{he.open(xn);const r=new pn.Firmata(he,An);console.log("io: ",r)}catch(r){console.log("error: ",r)}},An=r=>{console.log("firmata callback"),r!=null&&console.log("argF: ",r)},xn=r=>{console.log("serialport callback2"),r!=null&&console.error("serialError2: ",r)};function _n(){console.log("handleStart");try{yn()}catch(r){console.log(r)}}const Oe=new Nt;Oe.add(window.location,"reload");Oe.add({handleStart:_n},"handleStart");
